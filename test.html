<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
		<title>Juliana Hong</title>

</head>

<script type="text/javascript">

function extractEmailAddresses(emailAddressString) {
    emailAddressString.replace(/\s/g, "");
    var emailArray = emailAddressString.split(',');
    var sendEmail = ""

    for (var i = 0; i < emailArray.length; i++){

        //FIX STUFF HERE- fix scope sendEmail
        sendEmail += "{\'email\': \'" + emailArray[i] + "\'," + "\'type\': \'to\' }";
        //if last value in email array
        if (i == emailArray.length - 1){
        }
        else {
        	sendEmail += ",";
        }
        }
        
        return sendEmail;
}
// console.log(extractEmailAddresses(emailAddress));


function determineEmailRecipients(emailAddressString) {
	//if emailAddress contains comma i.e. multiple recipients	
    if (emailAddressString.indexOf(',') >= 0){
    	extractEmailAddresses(emailAddressString);
    	console.log("Must extract");
    }
    else {
    	return emailAddressString;
    }
}

var emailAddress = "julianajoy@gmail.com,  julianahhong@gmail.com,test@gmail.com";
console.log(determineEmailRecipients(emailAddress));
</script>

</body>
</html>
